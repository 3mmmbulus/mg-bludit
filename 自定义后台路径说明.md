# 自定义后台路径配置说明

## 功能说明

系统支持自定义后台管理界面的访问路径,增强安全性。

## 配置方法

编辑 `mgw-config/system.php` 文件,修改 `adminUriFilter` 字段:

```json
{
    "language": "zh_CN",
    "locale": "zh_CN",
    "timezone": "Asia/Bangkok",
    "adminTheme": "booty",
    "dateFormat": "F j, Y",
    "extremeFriendly": true,
    "autosaveInterval": 2,
    "imageRestrict": true,
    "imageRelativeToAbsolute": false,
    "adminUriFilter": "admin"
}
```

## 使用示例

### 默认配置
```json
"adminUriFilter": "admin"
```
**后台地址:** `http://yourdomain.com/admin/`

### 自定义路径
```json
"adminUriFilter": "fkdljsalfkjdsalkfj"
```
**后台地址:** `http://yourdomain.com/fkdljsalfkjdsalkfj/`

### 其他示例
```json
"adminUriFilter": "manage"
```
**后台地址:** `http://yourdomain.com/manage/`

```json
"adminUriFilter": "secret-admin-2025"
```
**后台地址:** `http://yourdomain.com/secret-admin-2025/`

## 安全建议

1. **使用复杂字符串**
   - 推荐: `fkdljsalfkjdsalkfj`, `x9k2m5n8p3q7`
   - 避免: `manage`, `backend`, `console`

2. **定期更换**
   - 建议每隔几个月更换一次后台路径
   - 防止路径被扫描工具发现

3. **不要泄露**
   - 不要在公开场合分享后台路径
   - 不要在代码注释中写明后台地址

## 注意事项

1. **修改后立即生效**
   - 保存配置后无需重启服务器
   - 清除浏览器缓存后访问新路径

2. **记住新路径**
   - 修改后务必记住新的后台路径
   - 建议使用密码管理器保存

3. **旧路径失效**
   - 修改后原 `/admin/` 路径将返回 404
   - 确保记住新路径后再修改

## 故障排查

### 无法访问后台?

1. 检查 `system.php` 文件格式是否正确(JSON 格式)
2. 确认 `adminUriFilter` 字段没有拼写错误
3. 清除浏览器缓存后重试
4. 访问新路径时确保末尾有 `/`

### 恢复默认路径

编辑 `mgw-config/system.php`,将 `adminUriFilter` 改回 `"admin"`:

```json
"adminUriFilter": "admin"
```

## 技术实现

系统在启动时(`mgw-kernel/boot/variables.php`)读取配置文件中的 `adminUriFilter` 值,并定义为常量 `ADMIN_URI_FILTER`,路由系统使用该常量匹配后台路径。

## 配置文件位置

- 配置文件: `/www/wwwroot/103.181.135.146/mgw-config/system.php`
- 变量加载: `/www/wwwroot/103.181.135.146/mgw-kernel/boot/variables.php`
